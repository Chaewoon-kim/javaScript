<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입 페이지</title>
    <link rel="stylesheet" href="signUp.css">
    <script>
        // 모달 열기
        function openModal() {
            document.getElementById("myModal").style.display = "block";
        }

        // 모달 닫기
        function closeModal() {
            document.getElementById("myModal").style.display = "none";
        }

        // 화면 초기화
        function confirmCancel() {
            if (confirm("정말 취소하시겠습니까?")) {
                document.getElementById("signUpForm").reset();
                resetValidationMessages();
            }
        }
        
        // 회원가입 완료 
        function confirmData(){
            if(confirm("가입하시겠습니까?")){
                alert("정상적으로 처리되었습니다.");
                document.getElementById("signUpForm").reset();
                resetValidationMessages();
            }
        }
        
        // 아이디 사용가능 여부
        function validateId(){
            const idInput = document.getElementById("userId");
            const idMessage = document.getElementById("idMessage");
            const idPattern = /^[a-z0-9]{4,16}$/;

            if (idPattern.test(idInput.value)) {
                idMessage.innerText = "사용 가능한 아이디입니다.";
                idMessage.style.color = "green";
            } else {
                idMessage.innerText = " (영문소문자/숫자,4~16자)";
                idMessage.style.color = "black";
            }
        }

        // 비밀번호 일치여부
        function validatePassword(){
            const password = document.getElementById("userPw").value;
            const passwordConfirm = document.getElementById("userPw2").value;
            const passwordMessage = document.getElementById("passwordMessage");

            if (password === passwordConfirm) {
                passwordMessage.innerText = "비밀번호가 일치합니다.";
                passwordMessage.style.color = "green";
            } else {
                passwordMessage.innerText = "비밀번호가 일치하지 않습니다.";
                passwordMessage.style.color = "red";
            }
        }

        // 유효성 검사 메시지 초기화
        function resetValidationMessages() {
            document.getElementById("idMessage").innerText = "(영문소문자/숫자,4~16자)";
            document.getElementById("idMessage").style.color = "black";
            document.getElementById("passwordMessage").innerText = "";
        }       
    </script>
</head>
<body>
    <div class="signUp"><p>회원 가입</p></div>
    <div class="division">
        <div class="d1">회원구분<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></div>
        <div class="d2"><input type="radio" checked = "checked">개인회원</div>
    </div>
    <div class="basic_info">
        <div class="b1">기본정보</div>
        <div class="b2"><img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘">필수입력사항</div>
    </div>
    <section>
    <form id="signUpForm">
        <table>
            <tr>
                <td>아이디<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></td>
                <td><input type="text" id="userId" oninput="validateId()">  <span id="idMessage">(영문소문자/숫자,4~16자)</span></td>
            </tr>
            <tr>
                <td>비밀번호<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></td>
                <td><input type="password" id="userPw" oninput="validatePassword()">  <span>(영문 대소문자/숫자/특수문자 중 2가지 이상 조합, 8~16자)</span></td>
            </tr>
            <tr>
                <td>비밀번호 확인<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></td>
                <td><input type="password" id="userPw2" oninput="validatePassword()"> <span id="passwordMessage"></span></td>
            </tr>
            <tr>
                <td>이름<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></td>
                <td><input type="text"></td>
            </tr>
            <tr>
               <td rawspan="3"> <p id="address">주소<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></p> </td> 
               <td colspan="3"><p id="letter"><input type="text" id="addNum"><button type="button" onclick="openModal()" id="addAdd">우편번호</button></p>
               <p id="add1"><input type="text">  기본주소<br></p>
               <p id="add2"><input type="text">  나머지주소(선택입력가능)</td></p>
            </tr>
            <tr>
                <td class="phone_inputs">일반전화<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></td>
                <td><select name="" id="">
                    <option value="02">02</option>
                    <option value="032">032</option>
                    <option value="031">031</option>
                    <option value="054">054</option>
                    <option value="052">052</option></select><span>-</span><input type="text" class="phone-number" maxlength="4"><span>-</span>
                    <input type="text" class="phone-number" maxlength="4">
            </td>
            </tr>
            <tr>
                <td class="phone_inputs">휴대전화<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></td>
                <td><select name="" id="">
                <option value="010">010</option>
                <option value="011">011</option>
                <option value="019">019</option></select> <span>-</span> <input type="text" class="phone-number" maxlength="4"> <span>-</span> 
                <input type="text" class="phone-number" maxlength="4"></td>
            </tr>
            <tr>
                <td>SMS 수신여부</td>
                <td><div class="checkbox-label">
                    <input type="checkbox">동의함
                    </div>
                    <p>쇼핑몰에서 제공하는 유익한 이벤트 소식을 SMS로 받으실 수 있습니다.</p></td>
            </tr>
            <tr>
                <td>이메일<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></td>
                <td><input type="email"></td>
            </tr>
            <tr>
                <td>이메일 수신여부</td>
                <td><div class="checkbox-label">
                    <input type="checkbox">동의함
                    </div>
                    <p>쇼핑몰에서 제공하는 유익한 이벤트 소식을 이메일로 받으실 수 있습니다.</p></td>
            </tr>
        </table>
    </form>
    </section>
    <div class="addition_info">
        <div class="a1">추가정보</div>
       <table class="a2">
        <tr>
            <td>생년월일<img src="https://img.echosting.cafe24.com/skin/base/common/ico_required.gif" alt="필수아이콘"></td>
            <td>
            <div class="group"><input type="text" id="year"> 년<input type="text" id="age" maxlength="2"> 월<input type="text" id="age" maxlength="2"> 일
            <div class="radio-group"><input type="radio">양력 <input type="radio">음력</div></div>
            </td>
        </tr>
        <tr>
            <td>지역</td>
            <td><select name="" id="location">
                <option value="선택">선택</option>
                <option value="인천">인천</option>
                <option value="경기">경기</option>
                <option value="서울">서울</option>
                <option value="부산">부산</option>
                <option value="대구">대구</option>
                <option value="강원">강원</option>
            </select></td>
        </tr>
       </table>
    </div>
    <div class="foot">
        <button onclick="confirmData()">회원가입</button>
        <button onclick="confirmCancel()">회원가입 취소</button>
    </div>

    <!-- 모달 -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p>우편번호</p>
            <input type="text" id="postalCode">
            <button type="button" id="postalCheck" onclick="submitPostalCode()">확인</button>
        </div>
    </div>

    <script>
        // 우편번호 입력 제출
        function submitPostalCode() {
            const postalCode = document.getElementById("postalCode").value;
            document.getElementById("addNum").value = postalCode;
            closeModal();
        }
    </script>
</body>
</html>
